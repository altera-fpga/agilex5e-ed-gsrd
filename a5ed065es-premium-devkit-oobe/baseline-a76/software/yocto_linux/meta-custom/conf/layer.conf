# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have recipes-* directories, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*.bbappend"

BBFILE_COLLECTIONS += "meta-custom"
BBFILE_PATTERN_meta-custom = "^${LAYERDIR}/"
BBFILE_PRIORITY_meta-custom = "6"

LAYERDEPENDS_meta-custom = "core"
LAYERSERIES_COMPAT_meta-custom = "main styhead walnascar"

CUSTOM_UBOOT_DT = "${CUSTOM_UBOOT_DEVICE_TREE}"
CUSTOM_LINUX_DT = "${CUSTOM_LINUX_DEVICE_TREE}"

FPGA_CORE_PGM_ENABLE = "${FPGA_ENABLE_CORE_PGM}"

SSBL_BOOT_SRC = "${SSBL_BOOT_SOURCE}"

KERNEL_BOOTARGS = "${@ ' '.join([d.getVar('KERNEL_BOOTARGS_SD_MMC') if d.getVar('SSBL_BOOT_SRC') == 'mmc0' \
    else d.getVar('KERNEL_BOOTARGS_QSPI') if d.getVar('SSBL_BOOT_SRC') == 'qspi' else ''])}"

SYSCHK_APP = "${GSRD_APP_SYSCHK}"
LED_CTRL_APP = "${GSRD_APP_LED_CTRL}"
REMOTE_DEBUG_APP = "${GSRD_APP_REMOTE_DEBUG}"
TSN_REF_SW = "${GSRD_APP_TSN_REF_SW}"
GPIO_INT_TEST = "${GSRD_APP_GPIO_INT_TEST}"
LINUXPTP_APP = "${NET_APP_LINUXPTP}"
OPEN62541_LIB = "${NET_LIB_OPEN62541}"
COREMARK_APP = "${BENCHMARK_APP_COREMARK}"
NUMACTL_UTIL = "${TOOLS_UTIL_NUMACTL}"

IMAGE_INSTALL:append = " hello-module"

# Add variables for wic creation of sdcard image
IMAGE_BOOT_FILES = " \
		uboot.env \
		boot.scr.uimg \
		u-boot.itb \
		kernel.itb \
		"
